<!DOCTYPE html>
<html>
<head>
<title>README.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="application-usage-mcp-system">Application Usage MCP System</h1>
<h2 id="1-project-overview">1. Project Overview</h2>
<p>The <strong>Application Usage MCP System</strong> is a production-ready implementation of the Model Context Protocol (MCP) designed for tracking and managing application usage data. This system provides a secure, standards-compliant interface that enables AI assistants to interact with application usage logs through a well-defined protocol.</p>
<h3 id="key-features">Key Features:</h3>
<ul>
<li><strong>Full MCP Protocol Compliance</strong>: Implements the official MCP specification with JSON-RPC 2.0</li>
<li><strong>Secure Operations</strong>: Input validation, schema validation, and explicit command whitelisting</li>
<li><strong>Tool System</strong>: Database operations exposed as standardized MCP tools</li>
<li><strong>Resource System</strong>: Real-time usage statistics accessible as MCP resources</li>
<li><strong>Database Management</strong>: SQLite database with automatic schema migration</li>
<li><strong>Async Architecture</strong>: Built on Python's asyncio for high performance</li>
<li><strong>Comprehensive Testing</strong>: Full test suite ensuring protocol compliance</li>
</ul>
<hr>
<h2 id="2-quick-start-guide">2. Quick Start Guide</h2>
<h3 id="%F0%9F%9A%80-interactive-client-recommended">üöÄ Interactive Client (Recommended)</h3>
<p>The easiest way to test and explore all MCP functionality is through the interactive client:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># 1. Start the MCP server (in one terminal)</span>
<span class="hljs-built_in">cd</span> examples
python start_server.py

<span class="hljs-comment"># 2. Run the interactive client (in another terminal)</span>
<span class="hljs-built_in">cd</span> examples
python interactive_client.py
</div></code></pre>
<p>The interactive client provides a menu-driven interface to test all MCP tools:</p>
<pre class="hljs"><code><div>üõ†Ô∏è  MCP CLIENT INTERACTIVE TOOL TESTER
============================================================
1Ô∏è‚É£  Create Usage Log           6Ô∏è‚É£  Get Unique Users
2Ô∏è‚É£  Get Usage Logs (All)       7Ô∏è‚É£  Get Unique Applications
3Ô∏è‚É£  Get Usage Logs (Filtered)  8Ô∏è‚É£  Get Unique Platforms
4Ô∏è‚É£  Update Usage Log           9Ô∏è‚É£  Get Usage Statistics
5Ô∏è‚É£  Delete Usage Log           üîü  Test Duration Aggregation
üìä  Show All Data Summary       üß™  Run All Tests (Auto)
‚ùå  Exit
============================================================
</div></code></pre>
<p><strong>Features:</strong></p>
<ul>
<li><strong>Smart Defaults</strong>: Quick testing with sensible default values</li>
<li><strong>Input Validation</strong>: Type checking and format validation</li>
<li><strong>Duration Aggregation</strong>: Test automatic duration aggregation for duplicates</li>
<li><strong>Comprehensive Testing</strong>: Automated test suite for all functionality</li>
<li><strong>User-Friendly</strong>: Clear prompts and formatted output</li>
</ul>
<h3 id="%F0%9F%93%8B-manual-testing">üìã Manual Testing</h3>
<p>The interactive client includes comprehensive automated testing options (menu option üß™).</p>
<h3 id="%F0%9F%93%9A-documentation">üìö Documentation</h3>
<ul>
<li><strong>Interactive Interface</strong>: The <code>interactive_client.py</code> includes built-in help and guidance</li>
<li><strong>Architecture Details</strong>: Continue reading this README for technical details</li>
</ul>
<hr>
<h2 id="3-folder-structure">3. Folder Structure</h2>
<pre class="hljs"><code><div>application_usage_mcp/
‚îú‚îÄ‚îÄ README.md                           # This documentation file
‚îú‚îÄ‚îÄ requirements.txt                    # Python dependencies
‚îú‚îÄ‚îÄ main.py                            # Application entry point
‚îú‚îÄ‚îÄ usage.db                           # SQLite database (auto-created)
‚îÇ
‚îú‚îÄ‚îÄ config/                            # Configuration management
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                    # Package initialization
‚îÇ   ‚îî‚îÄ‚îÄ settings.py                    # Application settings and constants
‚îÇ
‚îú‚îÄ‚îÄ database/                          # Database layer
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                    # Package initialization
‚îÇ   ‚îú‚îÄ‚îÄ db_manager.py                  # Database operations manager
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql                     # Database schema definition
‚îÇ
‚îú‚îÄ‚îÄ mcp/                               # MCP protocol implementation
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                    # Package initialization
‚îÇ   ‚îú‚îÄ‚îÄ mcp_server.py                  # MCP protocol server
‚îÇ   ‚îî‚îÄ‚îÄ mcp_client.py                  # MCP protocol client
‚îÇ
‚îú‚îÄ‚îÄ schemas/                           # JSON schema validation
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                    # Package initialization
‚îÇ   ‚îú‚îÄ‚îÄ validator.py                   # Schema validation utilities
‚îÇ   ‚îú‚îÄ‚îÄ initialize_request.json        # Initialize request schema
‚îÇ   ‚îú‚îÄ‚îÄ tool_call_request.json         # Tool call request schema
‚îÇ   ‚îî‚îÄ‚îÄ resource_read_request.json     # Resource read request schema
‚îÇ
‚îî‚îÄ‚îÄ examples/                          # Usage examples and utilities
    ‚îú‚îÄ‚îÄ start_server.py                # Server startup script
    ‚îî‚îÄ‚îÄ interactive_client.py          # Interactive CLI for testing all tools
</div></code></pre>
<h3 id="folder-purposes">Folder Purposes:</h3>
<ul>
<li><strong><code>config/</code></strong>: Contains application configuration and settings</li>
<li><strong><code>database/</code></strong>: Database abstraction layer and schema management</li>
<li><strong><code>mcp/</code></strong>: Core MCP protocol implementation (server and client)</li>
<li><strong><code>schemas/</code></strong>: JSON schema definitions for request validation</li>
<li><strong><code>examples/</code></strong>: Practical usage examples and helper scripts</li>
</ul>
<hr>
<h2 id="4-available-mcp-tools--analytics">4. Available MCP Tools &amp; Analytics</h2>
<p>The system provides comprehensive tools for database operations and advanced analytics through the MCP protocol. All tools are accessible via the interactive client or programmatically through the MCP client.</p>
<h3 id="%F0%9F%93%9D-basic-database-operations">üìù Basic Database Operations</h3>
<h4 id="1-createusagelog---create-new-usage-log-entry">1. <strong>create_usage_log</strong> - Create New Usage Log Entry</h4>
<p><strong>Purpose</strong>: Creates a new application usage log entry in the database.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"monitor_app_version"</span>: <span class="hljs-string">"1.0.0"</span>,    <span class="hljs-comment">// REQUIRED: Version of monitoring tool</span>
  <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Windows"</span>,             <span class="hljs-comment">// REQUIRED: Operating system</span>
  <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>,                 <span class="hljs-comment">// REQUIRED: Username or device identifier</span>
  <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,   <span class="hljs-comment">// REQUIRED: Name of the application</span>
  <span class="hljs-attr">"application_version"</span>: <span class="hljs-string">"120.0.0"</span>,   <span class="hljs-comment">// REQUIRED: Version of the application</span>
  <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-15"</span>,          <span class="hljs-comment">// REQUIRED: Date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"legacy_app"</span>: <span class="hljs-literal">false</span>,               <span class="hljs-comment">// REQUIRED: Whether app is legacy (true/false)</span>
  <span class="hljs-attr">"duration_seconds"</span>: <span class="hljs-number">3600</span>           <span class="hljs-comment">// REQUIRED: Usage duration in seconds</span>
}
</div></code></pre>
<p><strong>Note</strong>: All parameters are required for creating a usage log entry.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: {
    <span class="hljs-attr">"content"</span>: [
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"text"</span>,
        <span class="hljs-attr">"text"</span>: <span class="hljs-string">"{\"result\": 123, \"tool\": \"create_usage_log\"}"</span>
      }
    ]
  }
}
</div></code></pre>
<h4 id="2-getusagelogs---retrieve-usage-logs">2. <strong>get_usage_logs</strong> - Retrieve Usage Logs</h4>
<p><strong>Purpose</strong>: Retrieves usage logs with optional filtering.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"filters"</span>: {                    <span class="hljs-comment">// OPTIONAL: Object for filtering results</span>
    <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,  <span class="hljs-comment">// OPTIONAL: Filter by application name</span>
    <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Windows"</span>,            <span class="hljs-comment">// OPTIONAL: Filter by platform</span>
    <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>                 <span class="hljs-comment">// OPTIONAL: Filter by user</span>
  }
}
</div></code></pre>
<p><strong>Note</strong>: All parameters are optional. If no filters are provided, returns all usage logs.
&quot;user&quot;: &quot;john_doe&quot;
}
}</p>
<pre class="hljs"><code><div>
**Response Examples** (5 sample records):
```json
{
  &quot;result&quot;: [
    {
      &quot;id&quot;: 1,
      &quot;monitor_app_version&quot;: &quot;1.0.0&quot;,
      &quot;platform&quot;: &quot;Windows&quot;,
      &quot;user&quot;: &quot;john_doe&quot;,
      &quot;application_name&quot;: &quot;chrome.exe&quot;,
      &quot;application_version&quot;: &quot;120.0.0&quot;,
      &quot;log_date&quot;: &quot;2025-01-15&quot;,
      &quot;legacy_app&quot;: false,
      &quot;duration_seconds&quot;: 3600
    },
    {
      &quot;id&quot;: 2,
      &quot;monitor_app_version&quot;: &quot;1.0.0&quot;,
      &quot;platform&quot;: &quot;macOS&quot;,
      &quot;user&quot;: &quot;alice_smith&quot;,
      &quot;application_name&quot;: &quot;safari.app&quot;,
      &quot;application_version&quot;: &quot;17.2&quot;,
      &quot;log_date&quot;: &quot;2025-01-15&quot;,
      &quot;legacy_app&quot;: false,
      &quot;duration_seconds&quot;: 2400
    },
    {
      &quot;id&quot;: 3,
      &quot;monitor_app_version&quot;: &quot;1.0.0&quot;,
      &quot;platform&quot;: &quot;Windows&quot;,
      &quot;user&quot;: &quot;bob_wilson&quot;,
      &quot;application_name&quot;: &quot;firefox.exe&quot;,
      &quot;application_version&quot;: &quot;121.0&quot;,
      &quot;log_date&quot;: &quot;2025-01-14&quot;,
      &quot;legacy_app&quot;: false,
      &quot;duration_seconds&quot;: 1800
    },
    {
      &quot;id&quot;: 4,
      &quot;monitor_app_version&quot;: &quot;1.0.0&quot;,
      &quot;platform&quot;: &quot;Linux&quot;,
      &quot;user&quot;: &quot;charlie_brown&quot;,
      &quot;application_name&quot;: &quot;code&quot;,
      &quot;application_version&quot;: &quot;1.85.0&quot;,
      &quot;log_date&quot;: &quot;2025-01-14&quot;,
      &quot;legacy_app&quot;: false,
      &quot;duration_seconds&quot;: 7200
    },
    {
      &quot;id&quot;: 5,
      &quot;monitor_app_version&quot;: &quot;1.0.0&quot;,
      &quot;platform&quot;: &quot;Windows&quot;,
      &quot;user&quot;: &quot;diana_prince&quot;,
      &quot;application_name&quot;: &quot;notepad.exe&quot;,
      &quot;application_version&quot;: &quot;10.0&quot;,
      &quot;log_date&quot;: &quot;2025-01-13&quot;,
      &quot;legacy_app&quot;: true,
      &quot;duration_seconds&quot;: 600
    }
  ]
}
</div></code></pre>
<h4 id="3-updateusagelog---update-existing-log">3. <strong>update_usage_log</strong> - Update Existing Log</h4>
<p><strong>Purpose</strong>: Updates specific fields of an existing usage log.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"log_id"</span>: <span class="hljs-number">123</span>,                     <span class="hljs-comment">// REQUIRED: ID of the log entry to update</span>
  <span class="hljs-attr">"updates"</span>: {                       <span class="hljs-comment">// REQUIRED: Object containing fields to update</span>
    <span class="hljs-attr">"duration_seconds"</span>: <span class="hljs-number">7200</span>,        <span class="hljs-comment">// OPTIONAL: New duration value</span>
    <span class="hljs-attr">"application_version"</span>: <span class="hljs-string">"120.0.1"</span> <span class="hljs-comment">// OPTIONAL: New application version</span>
  }
}
</div></code></pre>
<p><strong>Note</strong>: <code>log_id</code> and <code>updates</code> object are required. Within <code>updates</code>, specify only the fields you want to change.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: {
    <span class="hljs-attr">"content"</span>: [
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"text"</span>,
        <span class="hljs-attr">"text"</span>: <span class="hljs-string">"{\"result\": true, \"tool\": \"update_usage_log\"}"</span>
      }
    ]
  }
}
</div></code></pre>
<h4 id="4-deleteusagelog---delete-usage-log">4. <strong>delete_usage_log</strong> - Delete Usage Log</h4>
<p><strong>Purpose</strong>: Permanently removes a usage log entry.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"log_id"</span>: <span class="hljs-number">123</span>                      <span class="hljs-comment">// REQUIRED: ID of the log entry to delete</span>
}
</div></code></pre>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: {
    <span class="hljs-attr">"content"</span>: [
      {
        <span class="hljs-attr">"type"</span>: <span class="hljs-string">"text"</span>, 
        <span class="hljs-attr">"text"</span>: <span class="hljs-string">"{\"result\": true, \"tool\": \"delete_usage_log\"}"</span>
      }
    ]
  }
}
</div></code></pre>
<h3 id="%F0%9F%93%8A-advanced-analytics-tools">üìä Advanced Analytics Tools</h3>
<h4 id="5-analyzetopusers---top-users-by-application">5. <strong>analyze_top_users</strong> - Top Users by Application</h4>
<p><strong>Purpose</strong>: Get top N users by total usage time for a specific application.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"app_name"</span>: <span class="hljs-string">"chrome.exe"</span>,      <span class="hljs-comment">// REQUIRED: Name of the application to analyze</span>
  <span class="hljs-attr">"limit"</span>: <span class="hljs-number">5</span>                     <span class="hljs-comment">// OPTIONAL: Number of users to return (default: 10)</span>
}
</div></code></pre>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">45</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">163800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">45.5</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"alice_smith"</span>, 
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">38</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">133200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">37.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"bob_wilson"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">32</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">115200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">32.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"charlie_brown"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">28</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">100800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">28.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"diana_prince"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">25</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">90000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">25.0</span>
    }
  ]
}
</div></code></pre>
<h4 id="6-analyzenewusers---new-user-analysis">6. <strong>analyze_new_users</strong> - New User Analysis</h4>
<p><strong>Purpose</strong>: Find users who started using the system within a date range.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-01"</span>,    <span class="hljs-comment">// REQUIRED: Start date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-01-31"</span>,      <span class="hljs-comment">// REQUIRED: End date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"app_name"</span>: <span class="hljs-string">"chrome.exe"</span>       <span class="hljs-comment">// OPTIONAL: Specific application to analyze</span>
}
</div></code></pre>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"new_user_1"</span>,
      <span class="hljs-attr">"first_entry_date"</span>: <span class="hljs-string">"2025-01-15"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">12</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">30600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">8.5</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"new_user_2"</span>,
      <span class="hljs-attr">"first_entry_date"</span>: <span class="hljs-string">"2025-01-18"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">18</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">44280</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">12.3</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"new_user_3"</span>,
      <span class="hljs-attr">"first_entry_date"</span>: <span class="hljs-string">"2025-01-22"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">8</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">21600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">6.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"new_user_4"</span>,
      <span class="hljs-attr">"first_entry_date"</span>: <span class="hljs-string">"2025-01-25"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">15</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">54000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">15.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"new_user_5"</span>,
      <span class="hljs-attr">"first_entry_date"</span>: <span class="hljs-string">"2025-01-28"</span>,
      <span class="hljs-attr">"session_count"</span>: <span class="hljs-number">5</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">18000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">5.0</span>
    }
  ]
}
</div></code></pre>
<h4 id="7-analyzeinactiveusers---inactive-user-analysis">7. <strong>analyze_inactive_users</strong> - Inactive User Analysis</h4>
<p><strong>Purpose</strong>: Find users who haven't been active since a specific date.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"cutoff_date"</span>: <span class="hljs-string">"2025-01-01"</span>,   <span class="hljs-comment">// REQUIRED: Date in YYYY-MM-DD format (users inactive since this date)</span>
  <span class="hljs-attr">"app_name"</span>: <span class="hljs-string">"chrome.exe"</span>       <span class="hljs-comment">// OPTIONAL: Specific application to analyze</span>
}
</div></code></pre>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"inactive_user_1"</span>,
      <span class="hljs-attr">"last_activity_date"</span>: <span class="hljs-string">"2024-12-28"</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">156</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">561600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">156.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"inactive_user_2"</span>,
      <span class="hljs-attr">"last_activity_date"</span>: <span class="hljs-string">"2024-12-25"</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">89</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">320400</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">89.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"inactive_user_3"</span>,
      <span class="hljs-attr">"last_activity_date"</span>: <span class="hljs-string">"2024-12-20"</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">67</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">241200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">67.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"inactive_user_4"</span>,
      <span class="hljs-attr">"last_activity_date"</span>: <span class="hljs-string">"2024-12-15"</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">45</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">162000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">45.0</span>
    },
    {
      <span class="hljs-attr">"user"</span>: <span class="hljs-string">"inactive_user_5"</span>,
      <span class="hljs-attr">"last_activity_date"</span>: <span class="hljs-string">"2024-12-10"</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">23</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">82800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">23.0</span>
    }
  ]
}
</div></code></pre>
<h4 id="8-analyzeweeklyadditions---weekly-user-additions">8. <strong>analyze_weekly_additions</strong> - Weekly User Additions</h4>
<p><strong>Purpose</strong>: Get weekly breakdown of new user registrations.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-01"</span>,    <span class="hljs-comment">// REQUIRED: Start date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-01-31"</span>       <span class="hljs-comment">// REQUIRED: End date in YYYY-MM-DD format</span>
}
</div></code></pre>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"week"</span>: <span class="hljs-string">"2025-W01"</span>,
      <span class="hljs-attr">"week_start"</span>: <span class="hljs-string">"2025-01-01"</span>,
      <span class="hljs-attr">"new_users"</span>: <span class="hljs-number">12</span>
    },
    {
      <span class="hljs-attr">"week"</span>: <span class="hljs-string">"2025-W02"</span>, 
      <span class="hljs-attr">"week_start"</span>: <span class="hljs-string">"2025-01-06"</span>,
      <span class="hljs-attr">"new_users"</span>: <span class="hljs-number">18</span>
    },
    {
      <span class="hljs-attr">"week"</span>: <span class="hljs-string">"2025-W03"</span>,
      <span class="hljs-attr">"week_start"</span>: <span class="hljs-string">"2025-01-13"</span>,
      <span class="hljs-attr">"new_users"</span>: <span class="hljs-number">15</span>
    },
    {
      <span class="hljs-attr">"week"</span>: <span class="hljs-string">"2025-W04"</span>,
      <span class="hljs-attr">"week_start"</span>: <span class="hljs-string">"2025-01-20"</span>,
      <span class="hljs-attr">"new_users"</span>: <span class="hljs-number">22</span>
    },
    {
      <span class="hljs-attr">"week"</span>: <span class="hljs-string">"2025-W05"</span>,
      <span class="hljs-attr">"week_start"</span>: <span class="hljs-string">"2025-01-27"</span>,
      <span class="hljs-attr">"new_users"</span>: <span class="hljs-number">8</span>
    }
  ]
}
</div></code></pre>
<h4 id="9-analyzeapplicationstats---application-usage-statistics">9. <strong>analyze_application_stats</strong> - Application Usage Statistics</h4>
<p><strong>Purpose</strong>: Get comprehensive usage statistics for applications.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"app_name"</span>: <span class="hljs-string">"chrome.exe"</span>       <span class="hljs-comment">// OPTIONAL: Specific application to analyze (omit for all apps)</span>
}
</div></code></pre>
<p><strong>Note</strong>: If <code>app_name</code> is omitted, returns statistics for all applications.</p>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">245</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">1567</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">5641200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">1567.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
      <span class="hljs-attr">"first_usage"</span>: <span class="hljs-string">"2024-12-01"</span>,
      <span class="hljs-attr">"last_usage"</span>: <span class="hljs-string">"2025-01-31"</span>
    },
    {
      <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"firefox.exe"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">189</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">892</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">3211200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">892.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
      <span class="hljs-attr">"first_usage"</span>: <span class="hljs-string">"2024-12-01"</span>,
      <span class="hljs-attr">"last_usage"</span>: <span class="hljs-string">"2025-01-30"</span>
    },
    {
      <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"code.exe"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">156</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">2341</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">8427600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">2341.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
      <span class="hljs-attr">"first_usage"</span>: <span class="hljs-string">"2024-12-01"</span>,
      <span class="hljs-attr">"last_usage"</span>: <span class="hljs-string">"2025-01-31"</span>
    },
    {
      <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"notepad.exe"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">78</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">234</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">842400</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">234.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
      <span class="hljs-attr">"first_usage"</span>: <span class="hljs-string">"2024-12-01"</span>,
      <span class="hljs-attr">"last_usage"</span>: <span class="hljs-string">"2025-01-29"</span>
    },
    {
      <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"safari.app"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">123</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">567</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">2041200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">567.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
      <span class="hljs-attr">"first_usage"</span>: <span class="hljs-string">"2024-12-01"</span>,
      <span class="hljs-attr">"last_usage"</span>: <span class="hljs-string">"2025-01-31"</span>
    }
  ]
}
</div></code></pre>
<h4 id="10-analyzeplatformdistribution---platform-usage-distribution">10. <strong>analyze_platform_distribution</strong> - Platform Usage Distribution</h4>
<p><strong>Purpose</strong>: Get usage distribution across different platforms.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{}
</div></code></pre>
<p><strong>Note</strong>: No parameters required. Returns distribution for all platforms.</p>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Windows"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">456</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">2876</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">10353600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">2876.0</span>,
      <span class="hljs-attr">"session_percentage"</span>: <span class="hljs-number">65.4</span>,
      <span class="hljs-attr">"time_percentage"</span>: <span class="hljs-number">68.2</span>
    },
    {
      <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"macOS"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">234</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">1123</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">4042800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">1123.0</span>,
      <span class="hljs-attr">"session_percentage"</span>: <span class="hljs-number">25.5</span>,
      <span class="hljs-attr">"time_percentage"</span>: <span class="hljs-number">26.6</span>
    },
    {
      <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Linux"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">123</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">345</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">1242000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">345.0</span>,
      <span class="hljs-attr">"session_percentage"</span>: <span class="hljs-number">7.8</span>,
      <span class="hljs-attr">"time_percentage"</span>: <span class="hljs-number">8.2</span>
    },
    {
      <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Android"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">89</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">234</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">842400</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">234.0</span>,
      <span class="hljs-attr">"session_percentage"</span>: <span class="hljs-number">5.3</span>,
      <span class="hljs-attr">"time_percentage"</span>: <span class="hljs-number">5.5</span>
    },
    {
      <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"iOS"</span>,
      <span class="hljs-attr">"unique_users"</span>: <span class="hljs-number">67</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">156</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">561600</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">156.0</span>,
      <span class="hljs-attr">"session_percentage"</span>: <span class="hljs-number">3.5</span>,
      <span class="hljs-attr">"time_percentage"</span>: <span class="hljs-number">3.7</span>
    }
  ]
}
</div></code></pre>
<h4 id="11-analyzedailytrends---daily-usage-trends">11. <strong>analyze_daily_trends</strong> - Daily Usage Trends</h4>
<p><strong>Purpose</strong>: Get daily usage trends over a specified period.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"start_date"</span>: <span class="hljs-string">"2025-01-01"</span>,    <span class="hljs-comment">// REQUIRED: Start date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"end_date"</span>: <span class="hljs-string">"2025-01-07"</span>,      <span class="hljs-comment">// REQUIRED: End date in YYYY-MM-DD format</span>
  <span class="hljs-attr">"app_name"</span>: <span class="hljs-string">"chrome.exe"</span>       <span class="hljs-comment">// OPTIONAL: Specific application to analyze</span>
}
</div></code></pre>
<p><strong>Response Examples</strong> (5 sample records):</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [
    {
      <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-01"</span>,
      <span class="hljs-attr">"active_users"</span>: <span class="hljs-number">234</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">567</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">2041200</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">567.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>
    },
    {
      <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-02"</span>,
      <span class="hljs-attr">"active_users"</span>: <span class="hljs-number">189</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">445</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">1602000</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">445.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>
    },
    {
      <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-03"</span>,
      <span class="hljs-attr">"active_users"</span>: <span class="hljs-number">267</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">623</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">2242800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">623.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>
    },
    {
      <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-04"</span>,
      <span class="hljs-attr">"active_users"</span>: <span class="hljs-number">298</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">734</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">2642400</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">734.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>
    },
    {
      <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-01-05"</span>,
      <span class="hljs-attr">"active_users"</span>: <span class="hljs-number">156</span>,
      <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">378</span>,
      <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">1360800</span>,
      <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">378.0</span>,
      <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>
    }
  ]
}
</div></code></pre>
<h4 id="12-analyzeuseractivity---individual-user-activity-summary">12. <strong>analyze_user_activity</strong> - Individual User Activity Summary</h4>
<p><strong>Purpose</strong>: Get comprehensive activity summary for a specific user.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"user_name"</span>: <span class="hljs-string">"john_doe"</span>        <span class="hljs-comment">// REQUIRED: Username to analyze</span>
}
</div></code></pre>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: {
    <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>,
    <span class="hljs-attr">"total_sessions"</span>: <span class="hljs-number">156</span>,
    <span class="hljs-attr">"apps_used"</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">"platforms_used"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">561600</span>,
    <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">156.0</span>,
    <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
    <span class="hljs-attr">"first_activity"</span>: <span class="hljs-string">"2024-12-01"</span>,
    <span class="hljs-attr">"last_activity"</span>: <span class="hljs-string">"2025-01-31"</span>,
    <span class="hljs-attr">"application_breakdown"</span>: [
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">89</span>,
        <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">320400</span>,
        <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">89.0</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"code.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">34</span>,
        <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">122400</span>,
        <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">34.0</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"firefox.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">23</span>,
        <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">82800</span>,
        <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">23.0</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"notepad.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">36000</span>,
        <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">10.0</span>
      }
    ]
  }
}
</div></code></pre>
<h4 id="13-analyzesystemoverview---system-wide-statistics">13. <strong>analyze_system_overview</strong> - System-Wide Statistics</h4>
<p><strong>Purpose</strong>: Get high-level system statistics and overview.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{}
</div></code></pre>
<p><strong>Note</strong>: No parameters required. Returns system-wide statistics.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: {
    <span class="hljs-attr">"total_records"</span>: <span class="hljs-number">12456</span>,
    <span class="hljs-attr">"total_users"</span>: <span class="hljs-number">1234</span>,
    <span class="hljs-attr">"total_applications"</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">"total_platforms"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">"total_seconds"</span>: <span class="hljs-number">44841600</span>,
    <span class="hljs-attr">"total_hours"</span>: <span class="hljs-number">12456.0</span>,
    <span class="hljs-attr">"avg_session_minutes"</span>: <span class="hljs-number">60.0</span>,
    <span class="hljs-attr">"earliest_record"</span>: <span class="hljs-string">"2024-12-01"</span>,
    <span class="hljs-attr">"latest_record"</span>: <span class="hljs-string">"2025-01-31"</span>,
    <span class="hljs-attr">"top_applications"</span>: [
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">3456</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"code.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">2890</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"firefox.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">1567</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"safari.app"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">1234</span>
      },
      {
        <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"notepad.exe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">890</span>
      }
    ],
    <span class="hljs-attr">"top_users"</span>: [
      {
        <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">234</span>
      },
      {
        <span class="hljs-attr">"user"</span>: <span class="hljs-string">"alice_smith"</span>, 
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">198</span>
      },
      {
        <span class="hljs-attr">"user"</span>: <span class="hljs-string">"bob_wilson"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">167</span>
      },
      {
        <span class="hljs-attr">"user"</span>: <span class="hljs-string">"charlie_brown"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">145</span>
      },
      {
        <span class="hljs-attr">"user"</span>: <span class="hljs-string">"diana_prince"</span>,
        <span class="hljs-attr">"sessions"</span>: <span class="hljs-number">134</span>
      }
    ]
  }
}
</div></code></pre>
<h3 id="%F0%9F%94%8D-utility-tools">üîç Utility Tools</h3>
<h4 id="14-getuniqueusers---list-all-users">14. <strong>get_unique_users</strong> - List All Users</h4>
<p><strong>Purpose</strong>: Get list of unique users from the database.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{}
</div></code></pre>
<p><strong>Note</strong>: No parameters required. Returns all unique users.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [<span class="hljs-string">"alice_smith"</span>, <span class="hljs-string">"bob_wilson"</span>, <span class="hljs-string">"charlie_brown"</span>, <span class="hljs-string">"diana_prince"</span>, <span class="hljs-string">"john_doe"</span>]
}
</div></code></pre>
<h4 id="15-getuniqueapplications---list-all-applications">15. <strong>get_unique_applications</strong> - List All Applications</h4>
<p><strong>Purpose</strong>: Get list of unique applications from the database.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{}
</div></code></pre>
<p><strong>Note</strong>: No parameters required. Returns all unique applications.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [<span class="hljs-string">"chrome.exe"</span>, <span class="hljs-string">"code.exe"</span>, <span class="hljs-string">"firefox.exe"</span>, <span class="hljs-string">"notepad.exe"</span>, <span class="hljs-string">"safari.app"</span>]
}
</div></code></pre>
<h4 id="16-getuniqueplatforms---list-all-platforms">16. <strong>get_unique_platforms</strong> - List All Platforms</h4>
<p><strong>Purpose</strong>: Get list of unique platforms from the database.</p>
<p><strong>Request Parameters</strong>:</p>
<pre class="hljs"><code><div>{}
</div></code></pre>
<p><strong>Note</strong>: No parameters required. Returns all unique platforms.</p>
<p><strong>Response Examples</strong>:</p>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"result"</span>: [<span class="hljs-string">"Android"</span>, <span class="hljs-string">"Linux"</span>, <span class="hljs-string">"Windows"</span>, <span class="hljs-string">"iOS"</span>, <span class="hljs-string">"macOS"</span>]
}
</div></code></pre>
<hr>
<h2 id="5-component-details">5. Component Details</h2>
<h2 id="4-documentation">4. Documentation</h2>
<h3 id="core-files-documentation">Core Files Documentation</h3>
<h4 id="mainpy"><code>main.py</code></h4>
<p><strong>Purpose</strong>: Application entry point that initializes and starts the MCP server.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Functionality:</span>
- Configures logging
- Initializes MCPServer instance
- Starts the <span class="hljs-keyword">async</span> event loop
- Handles graceful shutdown
</div></code></pre>
<h4 id="configsettingspy"><code>config/settings.py</code></h4>
<p><strong>Purpose</strong>: Centralized configuration management for the entire application.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Configuration includes:</span>
- Database settings (path, name, schema location)
- MCP server settings (host, port)
- Protocol constants <span class="hljs-keyword">and</span> defaults
</div></code></pre>
<h4 id="databasedbmanagerpy"><code>database/db_manager.py</code></h4>
<p><strong>Purpose</strong>: Database abstraction layer providing CRUD operations for usage logs.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Key Methods:</span>
- initialize_database(): Sets up database schema
- create_usage_log(): Creates new usage entries
- get_usage_logs(): Retrieves logs <span class="hljs-keyword">with</span> optional filtering
- update_usage_log(): Updates existing log entries
- delete_usage_log(): Removes log entries
</div></code></pre>
<h3 id="database-schema">Database Schema</h3>
<p>The database uses the following schema for tracking application usage across different platforms and applications:</p>
<h4 id="table-usagedata">Table: <code>usage_data</code></h4>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Constraints</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>INTEGER</td>
<td>PRIMARY KEY AUTOINCREMENT</td>
<td>Unique identifier for each usage record</td>
</tr>
<tr>
<td><code>monitor_app_version</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Version of the monitoring tool that logged the data</td>
</tr>
<tr>
<td><code>platform</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Operating system (e.g., Windows, macOS, Android)</td>
</tr>
<tr>
<td><code>user</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Username or device ID</td>
</tr>
<tr>
<td><code>application_name</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Name of the application (e.g., chrome.exe)</td>
</tr>
<tr>
<td><code>application_version</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Application version number</td>
</tr>
<tr>
<td><code>log_date</code></td>
<td>TEXT</td>
<td>NOT NULL</td>
<td>Date in YYYY-MM-DD format</td>
</tr>
<tr>
<td><code>legacy_app</code></td>
<td>BOOLEAN</td>
<td>NOT NULL</td>
<td>Indicates if the application is legacy (true/false)</td>
</tr>
<tr>
<td><code>duration_seconds</code></td>
<td>INTEGER</td>
<td>NOT NULL</td>
<td>Usage time in seconds</td>
</tr>
</tbody>
</table>
<h4 id="database-indexes">Database Indexes</h4>
<table>
<thead>
<tr>
<th>Index Name</th>
<th>Column(s)</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>idx_usage_app</code></td>
<td><code>application_name</code></td>
<td>Efficient application-based queries</td>
</tr>
<tr>
<td><code>idx_usage_user</code></td>
<td><code>user</code></td>
<td>User-based filtering and analytics</td>
</tr>
<tr>
<td><code>idx_usage_date</code></td>
<td><code>log_date</code></td>
<td>Time-based queries and reporting</td>
</tr>
<tr>
<td><code>idx_usage_platform</code></td>
<td><code>platform</code></td>
<td>Platform-specific analysis</td>
</tr>
</tbody>
</table>
<h4 id="example-data">Example Data</h4>
<pre class="hljs"><code><div>{
  <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"monitor_app_version"</span>: <span class="hljs-string">"1.0.0"</span>,
  <span class="hljs-attr">"platform"</span>: <span class="hljs-string">"Windows"</span>,
  <span class="hljs-attr">"user"</span>: <span class="hljs-string">"john_doe"</span>,
  <span class="hljs-attr">"application_name"</span>: <span class="hljs-string">"chrome.exe"</span>,
  <span class="hljs-attr">"application_version"</span>: <span class="hljs-string">"119.0.6045.105"</span>,
  <span class="hljs-attr">"log_date"</span>: <span class="hljs-string">"2025-07-27"</span>,
  <span class="hljs-attr">"legacy_app"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"duration_seconds"</span>: <span class="hljs-number">3600</span>
}
</div></code></pre>
<h4 id="query-examples">Query Examples</h4>
<pre class="hljs"><code><div><span class="hljs-comment">-- Get all Chrome usage logs</span>
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> usage_data <span class="hljs-keyword">WHERE</span> application_name = <span class="hljs-string">'chrome.exe'</span>;

<span class="hljs-comment">-- Get usage logs for a specific user on Windows</span>
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> usage_data <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> = <span class="hljs-string">'john_doe'</span> <span class="hljs-keyword">AND</span> platform = <span class="hljs-string">'Windows'</span>;

<span class="hljs-comment">-- Get legacy applications only</span>
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> usage_data <span class="hljs-keyword">WHERE</span> legacy_app = <span class="hljs-number">1</span>;

<span class="hljs-comment">-- Get usage logs from the last 24 hours</span>
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> usage_data 
<span class="hljs-keyword">WHERE</span> log_date &gt;= datetime(<span class="hljs-string">'now'</span>, <span class="hljs-string">'-1 day'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> log_date <span class="hljs-keyword">DESC</span>;

<span class="hljs-comment">-- Get total usage time per application</span>
<span class="hljs-keyword">SELECT</span> application_name, <span class="hljs-keyword">SUM</span>(duration_seconds) <span class="hljs-keyword">as</span> total_seconds
<span class="hljs-keyword">FROM</span> usage_data 
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> application_name 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> total_seconds <span class="hljs-keyword">DESC</span>;
</div></code></pre>
<h4 id="mcpmcpserverpy"><code>mcp/mcp_server.py</code></h4>
<p><strong>Purpose</strong>: Complete MCP protocol server implementation with JSON-RPC 2.0 compliance.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Key Components:</span>
- MCPServer <span class="hljs-class"><span class="hljs-keyword">class</span>:</span> Main server implementation
- Message handling: Process all MCP message types
- Tool system: Expose database operations <span class="hljs-keyword">as</span> MCP tools
- Resource system: Provide usage statistics <span class="hljs-keyword">as</span> resources
- Security: Input validation <span class="hljs-keyword">and</span> error handling
</div></code></pre>
<h4 id="mcpmcpclientpy"><code>mcp/mcp_client.py</code></h4>
<p><strong>Purpose</strong>: MCP protocol client for interacting with the server programmatically.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Key Features:</span>
- Connection management <span class="hljs-keyword">with</span> auto-reconnection
- Protocol handshake <span class="hljs-keyword">and</span> initialization
- Tool discovery <span class="hljs-keyword">and</span> execution
- Resource reading capabilities
- Convenience methods <span class="hljs-keyword">for</span> database operations
</div></code></pre>
<h4 id="schemasvalidatorpy"><code>schemas/validator.py</code></h4>
<p><strong>Purpose</strong>: JSON schema validation utilities for ensuring message compliance.</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Validation Functions:</span>
- validate_initialize_request(): Validates handshake messages
- validate_tool_call_request(): Validates tool execution requests
- validate_resource_read_request(): Validates resource access requests
</div></code></pre>
<hr>
<h2 id="5-architecture">5. Architecture</h2>
<h3 id="system-architecture-overview">System Architecture Overview</h3>
<p>The system follows a <strong>layered architecture</strong> with clear separation of concerns:</p>
<pre class="hljs"><code><div>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    MCP CLIENT LAYER                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   AI Assistant  ‚îÇ  ‚îÇ  Python Client  ‚îÇ  ‚îÇ  Web Client  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ JSON-RPC 2.0 / TCP
                                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   MCP SERVER LAYER                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ                 MCPServer                               ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  Message    ‚îÇ  ‚îÇ   Tool      ‚îÇ  ‚îÇ    Resource     ‚îÇ  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  Handler    ‚îÇ  ‚îÇ   System    ‚îÇ  ‚îÇ    System       ‚îÇ  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ Method Calls
                                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  DATABASE LAYER                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ               DatabaseManager                           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   CRUD      ‚îÇ  ‚îÇ   Connection    ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Operations  ‚îÇ  ‚îÇ   Manager       ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ SQL
                                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   STORAGE LAYER                             ‚îÇ
‚îÇ                    SQLite Database                          ‚îÇ
‚îÇ                     (usage.db)                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</div></code></pre>
<h3 id="class-diagram-ascii-art">Class Diagram (ASCII Art)</h3>
<pre class="hljs"><code><div>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       MCPServer                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ - host: str                                                 ‚îÇ
‚îÇ - port: int                                                 ‚îÇ
‚îÇ - db_manager: DatabaseManager                               ‚îÇ
‚îÇ - initialized: bool                                         ‚îÇ
‚îÇ - tools: Dict[str, Dict]                                    ‚îÇ
‚îÇ - resources: Dict[str, Dict]                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + handle_client(reader, writer)                             ‚îÇ
‚îÇ + process_message(message) -&gt; Dict                          ‚îÇ
‚îÇ + handle_initialize(id, params) -&gt; Dict                     ‚îÇ
‚îÇ + handle_tools_list(id) -&gt; Dict                             ‚îÇ
‚îÇ + handle_tools_call(id, params) -&gt; Dict                     ‚îÇ
‚îÇ + handle_resources_list(id) -&gt; Dict                         ‚îÇ
‚îÇ + handle_resources_read(id, params) -&gt; Dict                 ‚îÇ
‚îÇ + start()                                                   ‚îÇ
‚îÇ + shutdown()                                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ uses
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    DatabaseManager                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ - db_path: str                                              ‚îÇ
‚îÇ - conn: sqlite3.Connection                                  ‚îÇ
‚îÇ - logger: Logger                                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + connect()                                                 ‚îÇ
‚îÇ + disconnect()                                              ‚îÇ
‚îÇ + initialize_database()                                     ‚îÇ
‚îÇ + create_usage_log(data) -&gt; int                             ‚îÇ
‚îÇ + get_usage_logs(filters) -&gt; List[Dict]                     ‚îÇ
‚îÇ + update_usage_log(id, updates) -&gt; bool                     ‚îÇ
‚îÇ + delete_usage_log(id) -&gt; bool                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ creates/manages
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       MCPClient                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ - host: str                                                 ‚îÇ
‚îÇ - port: int                                                 ‚îÇ
‚îÇ - reader: StreamReader                                      ‚îÇ
‚îÇ - writer: StreamWriter                                      ‚îÇ
‚îÇ - initialized: bool                                         ‚îÇ
‚îÇ - available_tools: List[Dict]                               ‚îÇ
‚îÇ - available_resources: List[Dict]                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + connect() -&gt; bool                                         ‚îÇ
‚îÇ + disconnect()                                              ‚îÇ
‚îÇ + initialize() -&gt; bool                                      ‚îÇ
‚îÇ + send_request(request) -&gt; Dict                             ‚îÇ
‚îÇ + call_tool(name, args) -&gt; Dict                             ‚îÇ
‚îÇ + read_resource(uri) -&gt; Dict                                ‚îÇ
‚îÇ + create_usage_log(data) -&gt; int                             ‚îÇ
‚îÇ + get_usage_logs(filters) -&gt; List[Dict]                     ‚îÇ
‚îÇ + update_usage_log(id, updates) -&gt; bool                     ‚îÇ
‚îÇ + delete_usage_log(id) -&gt; bool                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚îÇ validates with
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    SchemaValidator                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ - schemas: Dict[str, Dict]                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + validate_message(message, schema) -&gt; Optional[str]        ‚îÇ
‚îÇ + validate_initialize_request(message) -&gt; Optional[str]     ‚îÇ
‚îÇ + validate_tool_call_request(message) -&gt; Optional[str]      ‚îÇ
‚îÇ + validate_resource_read_request(message) -&gt; Optional[str]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</div></code></pre>
<h3 id="component-relationships">Component Relationships</h3>
<ol>
<li><strong>MCPServer</strong> ‚Üî <strong>DatabaseManager</strong>: Server uses database manager for all data operations</li>
<li><strong>MCPClient</strong> ‚Üí <strong>MCPServer</strong>: Client communicates with server via JSON-RPC 2.0</li>
<li><strong>MCPServer</strong> ‚Üí <strong>SchemaValidator</strong>: Server validates all incoming messages</li>
<li><strong>DatabaseManager</strong> ‚Üí <strong>SQLite</strong>: Direct database operations and connection management</li>
<li><strong>MCPClient</strong> ‚Üî <strong>MCPServer</strong>: Bidirectional communication for tools and resources</li>
</ol>
<hr>
<h2 id="5-deployment-instructions">5. Deployment Instructions</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Python 3.8 or higher</li>
<li>pip package manager</li>
<li>50MB available disk space</li>
</ul>
<h3 id="step-by-step-deployment">Step-by-Step Deployment</h3>
<h4 id="step-1-clone-the-repository">Step 1: Clone the Repository</h4>
<pre class="hljs"><code><div>git <span class="hljs-built_in">clone</span> https://github.com/yourusername/application_usage_mcp.git
<span class="hljs-built_in">cd</span> application_usage_mcp
</div></code></pre>
<h4 id="step-2-install-dependencies">Step 2: Install Dependencies</h4>
<pre class="hljs"><code><div>pip install -r requirements.txt
</div></code></pre>
<h4 id="step-3-start-the-server">Step 3: Start the Server</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># Option 1: Using the main entry point</span>
python main.py

<span class="hljs-comment"># Option 2: Using the example server script</span>
python examples/start_server.py
</div></code></pre>
<h4 id="step-4-verify-server-is-running">Step 4: Verify Server is Running</h4>
<pre class="hljs"><code><div><span class="hljs-comment"># In a new terminal, run the client example</span>
python examples/client_usage.py
</div></code></pre>
<h4 id="step-5-configure-optional">Step 5: Configure (Optional)</h4>
<p>Edit <code>config/settings.py</code> to customize:</p>
<pre class="hljs"><code><div><span class="hljs-comment"># Change server port</span>
MCP_PORT = <span class="hljs-number">9000</span>

<span class="hljs-comment"># Change database location</span>
DB_PATH = <span class="hljs-string">"/path/to/your/database.db"</span>
</div></code></pre>
<h3 id="production-deployment">Production Deployment</h3>
<h4 id="docker-deployment-recommended">Docker Deployment (Recommended)</h4>
<pre class="hljs"><code><div><span class="hljs-keyword">FROM</span> python:<span class="hljs-number">3.11</span>-slim

<span class="hljs-keyword">WORKDIR</span><span class="bash"> /app</span>
<span class="hljs-keyword">COPY</span><span class="bash"> . .</span>
<span class="hljs-keyword">RUN</span><span class="bash"> pip install -r requirements.txt</span>

<span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">58888</span>
<span class="hljs-keyword">CMD</span><span class="bash"> [<span class="hljs-string">"python"</span>, <span class="hljs-string">"main.py"</span>]</span>
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment"># Build and run</span>
docker build -t mcp-usage-tracker .
docker run -p 58888:58888 -v $(<span class="hljs-built_in">pwd</span>)/data:/app/data mcp-usage-tracker
</div></code></pre>
<h4 id="systemd-service-linux">Systemd Service (Linux)</h4>
<pre class="hljs"><code><div><span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=MCP Usage Tracker
<span class="hljs-attr">After</span>=network.target

<span class="hljs-section">[Service]</span>
<span class="hljs-attr">Type</span>=simple
<span class="hljs-attr">User</span>=mcp-user
<span class="hljs-attr">WorkingDirectory</span>=/opt/mcp-usage-tracker
<span class="hljs-attr">ExecStart</span>=/usr/bin/python3 main.py
<span class="hljs-attr">Restart</span>=always

<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
</div></code></pre>
<h3 id="health-check">Health Check</h3>
<pre class="hljs"><code><div><span class="hljs-comment"># Test server connectivity</span>
curl -X POST http://localhost:58888 \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"jsonrpc":"2.0","id":"1","method":"ping"}'</span>
</div></code></pre>
<hr>
<h2 id="6-required-libraries">6. Required Libraries</h2>
<h3 id="core-dependencies">Core Dependencies</h3>
<pre class="hljs"><code><div>jsonschema&gt;=4.17.0          # JSON schema validation
</div></code></pre>
<h3 id="development-dependencies">Development Dependencies</h3>
<pre class="hljs"><code><div>pytest&gt;=7.0.0               # Testing framework
pytest-asyncio&gt;=0.21.0      # Async testing support
pytest-cov&gt;=4.0.0           # Code coverage
</div></code></pre>
<h3 id="optional-dependencies">Optional Dependencies</h3>
<pre class="hljs"><code><div>aiosqlite&gt;=0.19.0           # Async SQLite operations (future enhancement)
python-dotenv&gt;=1.0.0        # Environment variable management
</div></code></pre>
<h3 id="python-standard-library-no-installation-required">Python Standard Library (No Installation Required)</h3>
<pre class="hljs"><code><div>asyncio                     # Async programming
json                       # JSON handling
sqlite3                    # SQLite database
logging                    # Logging system
uuid                       # UUID generation
datetime                   # Date/time operations
typing                     # Type hints
os                         # Operating system interface
sys                        # System-specific parameters
signal                     # Signal handling
</div></code></pre>
<h3 id="complete-requirementstxt">Complete requirements.txt</h3>
<pre class="hljs"><code><div># Core dependencies
jsonschema&gt;=4.17.0

# Development dependencies
pytest&gt;=7.0.0
pytest-asyncio&gt;=0.21.0
pytest-cov&gt;=4.0.0

# Optional dependencies for enhanced features
aiosqlite&gt;=0.19.0
python-dotenv&gt;=1.0.0
</div></code></pre>
<h3 id="installation-commands">Installation Commands</h3>
<pre class="hljs"><code><div><span class="hljs-comment"># Install core dependencies only</span>
pip install jsonschema

<span class="hljs-comment"># Install all dependencies including development tools</span>
pip install -r requirements.txt

<span class="hljs-comment"># Install with specific versions (production)</span>
pip install jsonschema==4.17.0 pytest==7.0.0 pytest-asyncio==0.21.0
</div></code></pre>
<hr>
<h2 id="7-sequence-flow">7. Sequence Flow</h2>
<h3 id="71-system-initialization-flow">7.1 System Initialization Flow</h3>
<pre class="hljs"><code><div>1. Application Startup
   ‚îú‚îÄ‚îÄ Load configuration from config/settings.py
   ‚îú‚îÄ‚îÄ Initialize logging system
   ‚îú‚îÄ‚îÄ Create DatabaseManager instance
   ‚îÇ   ‚îú‚îÄ‚îÄ Check if database exists
   ‚îÇ   ‚îî‚îÄ‚îÄ Initialize database tables
   ‚îú‚îÄ‚îÄ Create MCPServer instance
   ‚îÇ   ‚îú‚îÄ‚îÄ Load tool definitions
   ‚îÇ   ‚îú‚îÄ‚îÄ Load resource definitions
   ‚îÇ   ‚îî‚îÄ‚îÄ Set up message handlers
   ‚îî‚îÄ‚îÄ Start TCP server on configured host/port
</div></code></pre>
<h3 id="72-client-connection--handshake-flow">7.2 Client Connection &amp; Handshake Flow</h3>
<pre class="hljs"><code><div>1. Client Connection
   ‚îú‚îÄ‚îÄ TCP connection established
   ‚îú‚îÄ‚îÄ Client sends 'initialize' request
   ‚îÇ   ‚îî‚îÄ‚îÄ Includes: protocol version, capabilities, client info
   ‚îú‚îÄ‚îÄ Server validates initialization request
   ‚îú‚îÄ‚îÄ Server responds with capabilities
   ‚îÇ   ‚îî‚îÄ‚îÄ Includes: protocol version, server info, available tools/resources
   ‚îú‚îÄ‚îÄ Client sends 'tools/list' request
   ‚îú‚îÄ‚îÄ Server responds with tool definitions
   ‚îú‚îÄ‚îÄ Client sends 'resources/list' request
   ‚îú‚îÄ‚îÄ Server responds with resource definitions
   ‚îî‚îÄ‚îÄ Handshake complete - ready for operations
</div></code></pre>
<h3 id="73-database-write-operations-flow">7.3 Database Write Operations Flow</h3>
<pre class="hljs"><code><div>1. Create Usage Log
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îú‚îÄ‚îÄ Method: &quot;tools/call&quot;
   ‚îÇ   ‚îú‚îÄ‚îÄ Tool name: &quot;create_usage_log&quot;
   ‚îÇ   ‚îî‚îÄ‚îÄ Arguments: {monitor_app_version, platform, user, application_name, 
   ‚îÇ                   application_version, log_date, legacy_app, duration_seconds}
   ‚îú‚îÄ‚îÄ Server validates request against JSON schema
   ‚îú‚îÄ‚îÄ Server extracts tool arguments
   ‚îú‚îÄ‚îÄ DatabaseManager.create_usage_log() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Validate database connection
   ‚îÇ   ‚îú‚îÄ‚îÄ Validate required fields for new schema
   ‚îÇ   ‚îú‚îÄ‚îÄ Convert legacy_app boolean to 1/0 for SQLite
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute INSERT SQL statement
   ‚îÇ   ‚îú‚îÄ‚îÄ Commit transaction
   ‚îÇ   ‚îî‚îÄ‚îÄ Return new log ID
   ‚îú‚îÄ‚îÄ Server formats response with log ID
   ‚îî‚îÄ‚îÄ Client receives success response with log ID
</div></code></pre>
<h3 id="74-database-read-operations-flow">7.4 Database Read Operations Flow</h3>
<pre class="hljs"><code><div>1. Retrieve Usage Logs
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îú‚îÄ‚îÄ Method: &quot;tools/call&quot;
   ‚îÇ   ‚îú‚îÄ‚îÄ Tool name: &quot;get_usage_logs&quot;
   ‚îÇ   ‚îî‚îÄ‚îÄ Arguments: {filters: {application_name: &quot;chrome.exe&quot;}} (optional)
   ‚îú‚îÄ‚îÄ Server validates request
   ‚îú‚îÄ‚îÄ DatabaseManager.get_usage_logs() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Build SELECT query with WHERE clause (if filters)
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute query
   ‚îÇ   ‚îú‚îÄ‚îÄ Convert rows to dictionaries
   ‚îÇ   ‚îú‚îÄ‚îÄ Convert legacy_app from 1/0 to True/False
   ‚îÇ   ‚îî‚îÄ‚îÄ Return list of log entries
   ‚îú‚îÄ‚îÄ Server formats response with log data
   ‚îî‚îÄ‚îÄ Client receives log entries
</div></code></pre>
<h3 id="75-database-update-operations-flow">7.5 Database Update Operations Flow</h3>
<pre class="hljs"><code><div>1. Update Usage Log
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îú‚îÄ‚îÄ Tool name: &quot;update_usage_log&quot;
   ‚îÇ   ‚îî‚îÄ‚îÄ Arguments: {log_id: 123, updates: {user: &quot;new_user&quot;, duration_seconds: 7200}}
   ‚îú‚îÄ‚îÄ Server validates request
   ‚îú‚îÄ‚îÄ DatabaseManager.update_usage_log() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Build UPDATE SQL with SET clause
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute update with log_id WHERE clause
   ‚îÇ   ‚îú‚îÄ‚îÄ Check if any rows were affected
   ‚îÇ   ‚îî‚îÄ‚îÄ Return success/failure boolean
   ‚îú‚îÄ‚îÄ Server formats response
   ‚îî‚îÄ‚îÄ Client receives update result
</div></code></pre>
<h3 id="76-database-delete-operations-flow">7.6 Database Delete Operations Flow</h3>
<pre class="hljs"><code><div>1. Delete Usage Log
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îú‚îÄ‚îÄ Tool name: &quot;delete_usage_log&quot;
   ‚îÇ   ‚îî‚îÄ‚îÄ Arguments: {log_id: 123}
   ‚îú‚îÄ‚îÄ Server validates request
   ‚îú‚îÄ‚îÄ DatabaseManager.delete_usage_log() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute DELETE SQL with WHERE clause
   ‚îÇ   ‚îú‚îÄ‚îÄ Check if any rows were affected
   ‚îÇ   ‚îî‚îÄ‚îÄ Return success/failure boolean
   ‚îú‚îÄ‚îÄ Server formats response
   ‚îî‚îÄ‚îÄ Client receives deletion result
</div></code></pre>
<h3 id="77-resource-reading-flow">7.7 Resource Reading Flow</h3>
<pre class="hljs"><code><div>1. Read Usage Statistics
   ‚îú‚îÄ‚îÄ Client sends 'resources/read' request
   ‚îÇ   ‚îî‚îÄ‚îÄ URI: &quot;usage://stats&quot;
   ‚îú‚îÄ‚îÄ Server validates request
   ‚îú‚îÄ‚îÄ Server calls get_usage_logs() to count total logs
   ‚îú‚îÄ‚îÄ Server generates statistics object
   ‚îÇ   ‚îú‚îÄ‚îÄ total_logs: count
   ‚îÇ   ‚îú‚îÄ‚îÄ last_updated: current timestamp
   ‚îÇ   ‚îî‚îÄ‚îÄ summary: description
   ‚îú‚îÄ‚îÄ Server formats resource response
   ‚îÇ   ‚îú‚îÄ‚îÄ URI: original request URI
   ‚îÇ   ‚îú‚îÄ‚îÄ mimeType: &quot;application/json&quot;
   ‚îÇ   ‚îî‚îÄ‚îÄ text: JSON-formatted statistics
   ‚îî‚îÄ‚îÄ Client receives statistics data
</div></code></pre>
<h3 id="77-new-features-duration-aggregation--unique-values">7.7 New Features (Duration Aggregation &amp; Unique Values)</h3>
<h4 id="771-duration-aggregation-flow">7.7.1 Duration Aggregation Flow</h4>
<pre class="hljs"><code><div>1. Create Usage Log with Duplicate Detection
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request with log data
   ‚îú‚îÄ‚îÄ DatabaseManager.create_usage_log() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Check for existing record with same date, user, application_name
   ‚îÇ   ‚îú‚îÄ‚îÄ If duplicate found:
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Retrieve existing duration_seconds
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Add new duration to existing duration
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Update record with new total duration
   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Update other fields (monitor_app_version, platform, etc.)
   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Return existing record ID
   ‚îÇ   ‚îî‚îÄ‚îÄ If no duplicate:
   ‚îÇ       ‚îú‚îÄ‚îÄ Insert new record as normal
   ‚îÇ       ‚îî‚îÄ‚îÄ Return new record ID
   ‚îî‚îÄ‚îÄ Client receives log ID (same ID if aggregated)
</div></code></pre>
<h4 id="772-unique-values-retrieval-flow">7.7.2 Unique Values Retrieval Flow</h4>
<pre class="hljs"><code><div>1. Get Unique Users
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îî‚îÄ‚îÄ Tool name: &quot;get_unique_users&quot;
   ‚îú‚îÄ‚îÄ DatabaseManager.get_unique_users() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute: SELECT DISTINCT user FROM usage_data ORDER BY user
   ‚îÇ   ‚îî‚îÄ‚îÄ Return sorted list of unique users
   ‚îî‚îÄ‚îÄ Client receives: [&quot;alice&quot;, &quot;bob&quot;, &quot;john_doe&quot;]

2. Get Unique Applications  
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îî‚îÄ‚îÄ Tool name: &quot;get_unique_applications&quot;
   ‚îú‚îÄ‚îÄ DatabaseManager.get_unique_applications() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute: SELECT DISTINCT application_name FROM usage_data ORDER BY application_name
   ‚îÇ   ‚îî‚îÄ‚îÄ Return sorted list of unique applications
   ‚îî‚îÄ‚îÄ Client receives: [&quot;chrome.exe&quot;, &quot;firefox.exe&quot;, &quot;vscode.exe&quot;]

3. Get Unique Platforms
   ‚îú‚îÄ‚îÄ Client sends 'tools/call' request
   ‚îÇ   ‚îî‚îÄ‚îÄ Tool name: &quot;get_unique_platforms&quot; 
   ‚îú‚îÄ‚îÄ DatabaseManager.get_unique_platforms() called
   ‚îÇ   ‚îú‚îÄ‚îÄ Execute: SELECT DISTINCT platform FROM usage_data ORDER BY platform
   ‚îÇ   ‚îî‚îÄ‚îÄ Return sorted list of unique platforms
   ‚îî‚îÄ‚îÄ Client receives: [&quot;Linux&quot;, &quot;Windows&quot;, &quot;macOS&quot;]
</div></code></pre>
<h4 id="773-updated-data-format">7.7.3 Updated Data Format</h4>
<pre class="hljs"><code><div>- log_date format changed from ISO 8601 timestamp to YYYY-MM-DD
- Composite indexes added for better DISTINCT query performance:
  ‚îú‚îÄ‚îÄ idx_user_date (user, log_date)
  ‚îú‚îÄ‚îÄ idx_app_platform (application_name, platform)  
  ‚îî‚îÄ‚îÄ idx_platform_date (platform, log_date)
</div></code></pre>
<h3 id="78-error-handling-flow">7.8 Error Handling Flow</h3>
<pre class="hljs"><code><div>1. Error Scenarios
   ‚îú‚îÄ‚îÄ JSON Parse Error
   ‚îÇ   ‚îú‚îÄ‚îÄ Invalid JSON received
   ‚îÇ   ‚îú‚îÄ‚îÄ Server responds with -32700 error code
   ‚îÇ   ‚îî‚îÄ‚îÄ Connection remains open
   ‚îú‚îÄ‚îÄ Invalid Request
   ‚îÇ   ‚îú‚îÄ‚îÄ Missing required fields
   ‚îÇ   ‚îú‚îÄ‚îÄ Server responds with -32600 error code
   ‚îÇ   ‚îî‚îÄ‚îÄ Request rejected
   ‚îú‚îÄ‚îÄ Method Not Found
   ‚îÇ   ‚îú‚îÄ‚îÄ Unknown tool or method
   ‚îÇ   ‚îú‚îÄ‚îÄ Server responds with -32601 error code
   ‚îÇ   ‚îî‚îÄ‚îÄ Available methods logged
   ‚îú‚îÄ‚îÄ Invalid Parameters
   ‚îÇ   ‚îú‚îÄ‚îÄ Schema validation fails
   ‚îÇ   ‚îú‚îÄ‚îÄ Server responds with -32602 error code
   ‚îÇ   ‚îî‚îÄ‚îÄ Validation error details included
   ‚îî‚îÄ‚îÄ Internal Error
       ‚îú‚îÄ‚îÄ Database or server error
       ‚îú‚îÄ‚îÄ Server responds with -32603 error code
       ‚îú‚îÄ‚îÄ Error logged for debugging
       ‚îî‚îÄ‚îÄ Generic error message to client
</div></code></pre>
<h3 id="79-connection-lifecycle-flow">7.9 Connection Lifecycle Flow</h3>
<pre class="hljs"><code><div>1. Connection Management
   ‚îú‚îÄ‚îÄ Connection Established
   ‚îÇ   ‚îú‚îÄ‚îÄ TCP socket created
   ‚îÇ   ‚îú‚îÄ‚îÄ Client address logged
   ‚îÇ   ‚îî‚îÄ‚îÄ Handshake initiated
   ‚îú‚îÄ‚îÄ Active Session
   ‚îÇ   ‚îú‚îÄ‚îÄ Message processing loop
   ‚îÇ   ‚îú‚îÄ‚îÄ Request/response cycles
   ‚îÇ   ‚îî‚îÄ‚îÄ Error handling
   ‚îú‚îÄ‚îÄ Graceful Shutdown
   ‚îÇ   ‚îú‚îÄ‚îÄ Client closes connection
   ‚îÇ   ‚îú‚îÄ‚îÄ Server detects connection closure
   ‚îÇ   ‚îú‚îÄ‚îÄ Cleanup resources
   ‚îÇ   ‚îî‚îÄ‚îÄ Log connection closure
   ‚îî‚îÄ‚îÄ Error Shutdown
       ‚îú‚îÄ‚îÄ Network error or exception
       ‚îú‚îÄ‚îÄ Server catches exception
       ‚îú‚îÄ‚îÄ Force close connection
       ‚îú‚îÄ‚îÄ Log error details
       ‚îî‚îÄ‚îÄ Cleanup resources
</div></code></pre>
<hr>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><strong>API Examples</strong>: <code>examples/client_usage.py</code></li>
<li><strong>Server Startup</strong>: <code>examples/start_server.py</code></li>
<li><strong>Configuration Guide</strong>: <code>config/settings.py</code></li>
<li><strong>Database Schema</strong>: <code>database/schema.sql</code></li>
</ul>
<hr>
<p><strong>Status</strong>: ‚úÖ Production Ready | <strong>Protocol Version</strong>: 2024-11-05 | <strong>Last Updated</strong>: July 27, 2025</p>

</body>
</html>
